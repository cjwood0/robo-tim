[{"Start": 1860, "Stop": 3439, "Text": "I'm Tim Beckham and in this video I'm"}, {"Start": 3449, "Stop": 5780, "Text": "going to show you how to build a nerfs"}, {"Start": 5790, "Stop": 8120, "Text": "firmware for the raspberry pi zero that"}, {"Start": 8130, "Stop": 10669, "Text": "lets you use a single micro USB cable to"}, {"Start": 10679, "Stop": 13730, "Text": "both power the device and run a serial"}, {"Start": 13740, "Stop": 15980, "Text": "IEX session I'm going to use the OTG"}, {"Start": 15990, "Stop": 18140, "Text": "port on the Raspberry Pi 0 for data and"}, {"Start": 18150, "Stop": 19849, "Text": "power which requires a special kernel"}, {"Start": 19859, "Stop": 21320, "Text": "module to be installed as well as"}, {"Start": 21330, "Stop": 23570, "Text": "something called a firmware overlay"}, {"Start": 23580, "Stop": 25519, "Text": "using a custom kernel to support this"}, {"Start": 25529, "Stop": 28189, "Text": "require something called a custom nerves"}, {"Start": 28199, "Stop": 30019, "Text": "system building a custom system for"}, {"Start": 30029, "Stop": 31910, "Text": "nerves might seem daunting and I"}, {"Start": 31920, "Stop": 33979, "Text": "personally was hesitant about doing this"}, {"Start": 33989, "Stop": 35810, "Text": "at first after a little practice it"}, {"Start": 35820, "Stop": 37430, "Text": "becomes no big deal and you'll see I've"}, {"Start": 37440, "Stop": 40090, "Text": "done all the work for this system image"}, {"Start": 40100, "Stop": 43220, "Text": "already now I need a Linux environment"}, {"Start": 43230, "Stop": 45229, "Text": "to build my custom system so I'm going"}, {"Start": 45239, "Stop": 52939, "Text": "to run a docker container on my Mac host"}, {"Start": 52949, "Stop": 55369, "Text": "to do the nerve system build in order to"}, {"Start": 55379, "Stop": 57560, "Text": "build a custom system image we need both"}, {"Start": 57570, "Stop": 59689, "Text": "the nerve system build root and the"}, {"Start": 59699, "Stop": 62720, "Text": "nerve system our PI project's checked"}, {"Start": 62730, "Stop": 65119, "Text": "out of git I have modified the nerve"}, {"Start": 65129, "Stop": 67460, "Text": "system our PI configuration to suit my"}, {"Start": 67470, "Stop": 68870, "Text": "needs here so I'll check out my own repo"}, {"Start": 68880, "Stop": 81859, "Text": "instead of the officially maintained"}, {"Start": 81869, "Stop": 84499, "Text": "package here I'm cloning the main nerves"}, {"Start": 84509, "Stop": 97690, "Text": "build route repo in this example no"}, {"Start": 100890, "Stop": 102680, "Text": "now I'm cloning the special are pi0 repo"}, {"Start": 102690, "Stop": 104450, "Text": "this repo contains the kernel"}, {"Start": 104460, "Stop": 106220, "Text": "configuration for gadget mode drivers"}, {"Start": 106230, "Stop": 108260, "Text": "that lets Linux make a USB interface"}, {"Start": 108270, "Stop": 110450, "Text": "switch between host and device modes"}, {"Start": 110460, "Stop": 114140, "Text": "depending on what is attached it also"}, {"Start": 114150, "Stop": 116090, "Text": "enables the DWC to overlay so that the"}, {"Start": 116100, "Stop": 122740, "Text": "PI 0 looks like the right kind of USB"}, {"Start": 124890, "Stop": 126710, "Text": "finally I'll run a script that takes the"}, {"Start": 126720, "Stop": 128359, "Text": "two projects and creates a build folder"}, {"Start": 128369, "Stop": 131200, "Text": "that combines the two into a nerve"}, {"Start": 131210, "Stop": 133430, "Text": "system image for the sake of time I'm"}, {"Start": 133440, "Stop": 135350, "Text": "going to switch into a directory where"}, {"Start": 135360, "Stop": 137180, "Text": "I've already made a system image because"}, {"Start": 137190, "Stop": 147470, "Text": "the initial build time of a fresh system"}, {"Start": 147480, "Stop": 150170, "Text": "can take a while I'm making the system"}, {"Start": 150180, "Stop": 157559, "Text": "image now even if make has already been"}, {"Start": 160760, "Stop": 163030, "Text": "okay now we're making the gzip tar file"}, {"Start": 163040, "Stop": 164620, "Text": "of the system image so we can copy it"}, {"Start": 164630, "Stop": 185350, "Text": "over the shared folder to the host Mac"}, {"Start": 188490, "Stop": 191060, "Text": "okay now I'll copy the file over as well"}, {"Start": 191070, "Stop": 193280, "Text": "as the stock ERL and NIT config file"}, {"Start": 193290, "Stop": 194870, "Text": "that comes with the system image I'll"}, {"Start": 194880, "Stop": 196790, "Text": "explain why I'm doing that in a minute"}, {"Start": 196800, "Stop": 198350, "Text": "we're done in the docker now so let's"}, {"Start": 198360, "Stop": 200420, "Text": "move over to the host computer to do the"}, {"Start": 200430, "Stop": 225600, "Text": "rest now that we have a system image"}, {"Start": 228110, "Stop": 229600, "Text": "I've extracted the nerve system files"}, {"Start": 229610, "Stop": 231430, "Text": "and now I'll let nerve to know the"}, {"Start": 231440, "Stop": 234690, "Text": "location of the system folder to use"}, {"Start": 234700, "Stop": 237310, "Text": "instead of the official our PI image"}, {"Start": 237320, "Stop": 240310, "Text": "this is done using nerve system as an"}, {"Start": 240320, "Stop": 241990, "Text": "export variable environment variable now"}, {"Start": 242000, "Stop": 262570, "Text": "I'll create a new nerves app to use the"}, {"Start": 265199, "Stop": 267379, "Text": "in order to use the serial USB"}, {"Start": 267389, "Stop": 269839, "Text": "connection instead of the default HDMI"}, {"Start": 269849, "Stop": 271909, "Text": "output for the IE X session we need to"}, {"Start": 271919, "Stop": 274610, "Text": "do something called a route FS Edition"}, {"Start": 274620, "Stop": 276260, "Text": "will tell nerves where in the local file"}, {"Start": 276270, "Stop": 308420, "Text": "system to look for files that will"}, {"Start": 308430, "Stop": 310490, "Text": "override the default image files now"}, {"Start": 310500, "Stop": 312679, "Text": "I'll create a directory to hold the ER"}, {"Start": 312689, "Stop": 314570, "Text": "ll net config file I copied earlier and"}, {"Start": 314580, "Stop": 345760, "Text": "will tweak the configuration a little to"}, {"Start": 349560, "Stop": 351500, "Text": "ttyl one is the hdmi output what I'm"}, {"Start": 351510, "Stop": 354710, "Text": "changing it to is something called TTY"}, {"Start": 354720, "Stop": 357050, "Text": "GS 0 and that I believe stands for"}, {"Start": 357060, "Stop": 359060, "Text": "gadget serial 0 that is the USB serial"}, {"Start": 359070, "Stop": 362120, "Text": "device that gets created with our custom"}, {"Start": 362130, "Stop": 364550, "Text": "nerves image I'm also going to uncomment"}, {"Start": 364560, "Stop": 367070, "Text": "this run on exit command this means that"}, {"Start": 367080, "Stop": 368990, "Text": "when I press control C control C I will"}, {"Start": 369000, "Stop": 372140, "Text": "actually exit to a shell instead of the"}, {"Start": 372150, "Stop": 376340, "Text": "the Raspberry Pi just halting with those"}, {"Start": 376350, "Stop": 377660, "Text": "changes I'm going to run mix depths get"}, {"Start": 377670, "Stop": 378230, "Text": "and build the firmware just like I"}, {"Start": 378240, "Stop": 391070, "Text": "normally would"}, {"Start": 391080, "Stop": 406940, "Text": "I always forget this step this is a"}, {"Start": 408960, "Stop": 419339, "Text": "now I'll burn it to the microSD card you"}, {"Start": 421910, "Stop": 437090, "Text": "now I'll attach this to the Raspberry Pi"}, {"Start": 441720, "Stop": 447220, "Text": "alright it looks like it's done I should"}, {"Start": 450000, "Stop": 451850, "Text": "when I connect to it you see that I have"}, {"Start": 451860, "Stop": 453680, "Text": "an IE x session this is the running"}, {"Start": 453690, "Stop": 456950, "Text": "application that nerves has started with"}]